/*
 MIT
*/
(function(){function h(){var a=document.createElement("div"),b;a.style.position="absolute";a.style.top="-9999px";a.style.width="100px";a.style.height="100px";a.style.overflow="scroll";a.style.msOverflowStyle="scrollbar";document.body.appendChild(a);b=a.offsetWidth-a.clientWidth;document.body.removeChild(a);return b}function d(a,b){if(a.classList)return b.forEach(function(b){a.classList.add(b)});a.className+=" "+b.join(" ")}function k(a,b){if(a.classList)return b.forEach(function(b){a.classList.remove(b)});
a.className=a.className.replace(new RegExp("(^|\\b)"+b.join("|")+"(\\b|$)","gi")," ")}function l(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("msie")||-1!==a.indexOf("trident")||-1!==a.indexOf(" edge/")}function c(a){this.element=null;this.autoshow=!1;this.createElements=!0;this.forceGemini=!1;this.onResize=null;this.minThumbSize=20;Object.keys(a||{}).forEach(function(b){this[b]=a[b]},this);f=h();m=0===f&&!1===this.forceGemini;this._cache={events:{}};this._cursorDown=this._created=
!1;this._prevPageY=this._prevPageX=0;this._document=null;this._viewElement=this.element;this._scrollbarHorizontalElement=this._scrollbarHorizontalElement=this._thumbVerticalElement=this._scrollbarVerticalElement=null}var f,m;c.prototype.create=function(){if(m){d(this.element,["gm-prevented"]);if(this.onResize){if(!0===this.createElements){for(this._viewElement=document.createElement("div");0<this.element.childNodes.length;)this._viewElement.appendChild(this.element.childNodes[0]);this.element.appendChild(this._viewElement)}else this._viewElement=
this.element.querySelector(".gm-scroll-view");d(this.element,["gm-scrollbar-container"]);d(this._viewElement,["gm-scroll-view"]);this._createResizeTrigger()}return this}if(!0===this._created)return console.warn("calling on a already-created object"),this;this.autoshow&&d(this.element,["gm-autoshow"]);this._document=document;if(!0===this.createElements){this._viewElement=document.createElement("div");this._scrollbarVerticalElement=document.createElement("div");this._thumbVerticalElement=document.createElement("div");
this._scrollbarHorizontalElement=document.createElement("div");for(this._thumbHorizontalElement=document.createElement("div");0<this.element.childNodes.length;)this._viewElement.appendChild(this.element.childNodes[0]);this._scrollbarVerticalElement.appendChild(this._thumbVerticalElement);this._scrollbarHorizontalElement.appendChild(this._thumbHorizontalElement);this.element.appendChild(this._scrollbarVerticalElement);this.element.appendChild(this._scrollbarHorizontalElement);this.element.appendChild(this._viewElement)}else this._viewElement=
this.element.querySelector(".gm-scroll-view"),this._scrollbarVerticalElement=this.element.querySelector(".gm-scrollbar.-vertical"),this._thumbVerticalElement=this._scrollbarVerticalElement.querySelector(".thumb"),this._scrollbarHorizontalElement=this.element.querySelector(".gm-scrollbar.-horizontal"),this._thumbHorizontalElement=this._scrollbarHorizontalElement.querySelector(".thumb");d(this.element,["gm-scrollbar-container"]);d(this._viewElement,["gm-scroll-view"]);d(this._scrollbarVerticalElement,
"gm-scrollbar -vertical".split(/\s/));d(this._scrollbarHorizontalElement,"gm-scrollbar -horizontal".split(/\s/));d(this._thumbVerticalElement,["thumb"]);d(this._thumbHorizontalElement,["thumb"]);this._scrollbarVerticalElement.style.display="";this._scrollbarHorizontalElement.style.display="";this._createResizeTrigger();this._created=!0;return this._bindEvents().update()};c.prototype._createResizeTrigger=function(){var a=document.createElement("object");d(a,["gm-resize-trigger"]);a.type="text/html";
a.setAttribute("tabindex","-1");var b=this._resizeHandler.bind(this);a.onload=function(){a.contentDocument.defaultView.addEventListener("resize",b)};l()||(a.data="about:blank");this.element.appendChild(a);l()&&(a.data="about:blank");this._resizeTriggerElement=a};c.prototype.update=function(){if(m)return this;if(!1===this._created)return console.warn("calling on a not-yet-created object"),this;this._viewElement.style.width=(this.element.offsetWidth+f).toString()+"px";this._viewElement.style.height=
(this.element.offsetHeight+f).toString()+"px";this._naturalThumbSizeX=this._scrollbarHorizontalElement.clientWidth/this._viewElement.scrollWidth*this._scrollbarHorizontalElement.clientWidth;this._naturalThumbSizeY=this._scrollbarVerticalElement.clientHeight/this._viewElement.scrollHeight*this._scrollbarVerticalElement.clientHeight;this._scrollTopMax=this._viewElement.scrollHeight-this._viewElement.clientHeight;this._scrollLeftMax=this._viewElement.scrollWidth-this._viewElement.clientWidth;this._thumbVerticalElement.style.height=
this._naturalThumbSizeY<this.minThumbSize?this.minThumbSize+"px":this._scrollTopMax?this._naturalThumbSizeY+"px":"0px";this._thumbHorizontalElement.style.width=this._naturalThumbSizeX<this.minThumbSize?this.minThumbSize+"px":this._scrollLeftMax?this._naturalThumbSizeX+"px":"0px";this._thumbSizeY=this._thumbVerticalElement.clientHeight;this._thumbSizeX=this._thumbHorizontalElement.clientWidth;this._trackTopMax=this._scrollbarVerticalElement.clientHeight-this._thumbSizeY;this._trackLeftMax=this._scrollbarHorizontalElement.clientWidth-
this._thumbSizeX;this._scrollHandler();return this};c.prototype.destroy=function(){this._resizeTriggerElement&&(this.element.removeChild(this._resizeTriggerElement),this._resizeTriggerElement=null);if(m)return this;if(!1===this._created)return console.warn("calling on a not-yet-created object"),this;this._unbinEvents();k(this.element,["gm-scrollbar-container","gm-autoshow"]);if(!0===this.createElements){this.element.removeChild(this._scrollbarVerticalElement);for(this.element.removeChild(this._scrollbarHorizontalElement);0<
this._viewElement.childNodes.length;)this.element.appendChild(this._viewElement.childNodes[0]);this.element.removeChild(this._viewElement)}else this._viewElement.style.width="",this._viewElement.style.height="",this._scrollbarVerticalElement.style.display="none",this._scrollbarHorizontalElement.style.display="none";this._created=!1;return this._document=null};c.prototype.getViewElement=function(){return this._viewElement};c.prototype._bindEvents=function(){this._cache.events.scrollHandler=this._scrollHandler.bind(this);
this._cache.events.clickVerticalTrackHandler=this._clickVerticalTrackHandler.bind(this);this._cache.events.clickHorizontalTrackHandler=this._clickHorizontalTrackHandler.bind(this);this._cache.events.clickVerticalThumbHandler=this._clickVerticalThumbHandler.bind(this);this._cache.events.clickHorizontalThumbHandler=this._clickHorizontalThumbHandler.bind(this);this._cache.events.mouseUpDocumentHandler=this._mouseUpDocumentHandler.bind(this);this._cache.events.mouseMoveDocumentHandler=this._mouseMoveDocumentHandler.bind(this);
this._viewElement.addEventListener("scroll",this._cache.events.scrollHandler);this._scrollbarVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalTrackHandler);this._scrollbarHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler);this._thumbVerticalElement.addEventListener("mousedown",this._cache.events.clickVerticalThumbHandler);this._thumbHorizontalElement.addEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler);
this._document.addEventListener("mouseup",this._cache.events.mouseUpDocumentHandler);return this};c.prototype._unbinEvents=function(){this._viewElement.removeEventListener("scroll",this._cache.events.scrollHandler);this._scrollbarVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalTrackHandler);this._scrollbarHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalTrackHandler);this._thumbVerticalElement.removeEventListener("mousedown",this._cache.events.clickVerticalThumbHandler);
this._thumbHorizontalElement.removeEventListener("mousedown",this._cache.events.clickHorizontalThumbHandler);this._document.removeEventListener("mouseup",this._cache.events.mouseUpDocumentHandler);this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler);return this};c.prototype._scrollHandler=function(){var a=this._viewElement.scrollLeft*this._trackLeftMax/this._scrollLeftMax||0,b=this._viewElement.scrollTop*this._trackTopMax/this._scrollTopMax||0;this._thumbHorizontalElement.style.msTransform=
"translateX("+a+"px)";this._thumbHorizontalElement.style.webkitTransform="translate3d("+a+"px, 0, 0)";this._thumbHorizontalElement.style.transform="translate3d("+a+"px, 0, 0)";this._thumbVerticalElement.style.msTransform="translateY("+b+"px)";this._thumbVerticalElement.style.webkitTransform="translate3d(0, "+b+"px, 0)";this._thumbVerticalElement.style.transform="translate3d(0, "+b+"px, 0)"};c.prototype._resizeHandler=function(){this.update();if(this.onResize)this.onResize()};c.prototype._clickVerticalTrackHandler=
function(a){a.target===a.currentTarget&&(this._viewElement.scrollTop=100*(a.offsetY-.5*this._naturalThumbSizeY)/this._scrollbarVerticalElement.clientHeight*this._viewElement.scrollHeight/100)};c.prototype._clickHorizontalTrackHandler=function(a){a.target===a.currentTarget&&(this._viewElement.scrollLeft=100*(a.offsetX-.5*this._naturalThumbSizeX)/this._scrollbarHorizontalElement.clientWidth*this._viewElement.scrollWidth/100)};c.prototype._clickVerticalThumbHandler=function(a){this._startDrag(a);this._prevPageY=
this._thumbSizeY-a.offsetY};c.prototype._clickHorizontalThumbHandler=function(a){this._startDrag(a);this._prevPageX=this._thumbSizeX-a.offsetX};c.prototype._startDrag=function(a){this._cursorDown=!0;d(document.body,["gm-scrollbar-disable-selection"]);this._document.addEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler);this._document.onselectstart=function(){return!1}};c.prototype._mouseUpDocumentHandler=function(){this._cursorDown=!1;this._prevPageX=this._prevPageY=0;k(document.body,
["gm-scrollbar-disable-selection"]);this._document.removeEventListener("mousemove",this._cache.events.mouseMoveDocumentHandler);this._document.onselectstart=null};c.prototype._mouseMoveDocumentHandler=function(a){if(!1!==this._cursorDown){var b;this._prevPageY?(a=a.clientY-this._scrollbarVerticalElement.getBoundingClientRect().top,b=this._thumbSizeY-this._prevPageY,this._viewElement.scrollTop=this._scrollTopMax*(a-b)/this._trackTopMax):this._prevPageX&&(a=a.clientX-this._scrollbarHorizontalElement.getBoundingClientRect().left,
b=this._thumbSizeX-this._prevPageX,this._viewElement.scrollLeft=this._scrollLeftMax*(a-b)/this._trackLeftMax)}};"object"===typeof exports?module.exports=c:window.GeminiScrollbar=c})();(function(h,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):h.Pisces=d()})(this,function(){function h(c){for(var a=[],b=arguments.length-1;0<b--;)a[b]=arguments[b+1];[].concat(a).map(function(a){return Object.keys(a).map(function(b){c[b]=a[b]})});return c}var d=document.body,k=new RegExp(/^(\-|\+)\d/),l=new RegExp(/^\d*\.?\d*$/),c=function a(b,c){if(void 0===b)if("scrollingElement"in document)b=document.scrollingElement;
else{var e=document.documentElement,d=e.scrollTop,g;e.scrollTop=d+1;g=e.scrollTop;e.scrollTop=d;b=g>d?e:document.body}void 0===c&&(c={});this.scrollingBox=b;this.options=h({},a.defaults(),c)},f={start:{},max:{}};c.defaults=function(){return{duration:600,easing:function(a){return Math.sqrt(1- --a*a)},onComplete:null}};f.start.get=function(){var a=this.scrollingBox;return{x:a.scrollLeft,y:a.scrollTop}};f.max.get=function(){var a=this.scrollingBox,b;a===d?(b=a.scrollWidth-window.innerWidth,a=a.scrollHeight-
window.innerHeight):(b=a.scrollWidth-a.clientWidth,a=a.scrollHeight-a.clientHeight);return{x:b,y:a}};c.prototype._animate=function(a,b){void 0===b&&(b={});var c=this,e=h({},c.options,b),d=performance.now(),g=function(b){b=Math.abs(b-d);var f=e.easing(b/e.duration);c.scrollingBox.scrollTop=a.start.y+a.end.y*f;c.scrollingBox.scrollLeft=a.start.x+a.end.x*f;b>e.duration?c._completed(a,e):c._RAF=requestAnimationFrame(g)};c.cancel();c._RAF=requestAnimationFrame(g);return this};c.prototype._completed=function(a,
b){this.cancel();this.scrollingBox.scrollTop=a.start.y+a.end.y;this.scrollingBox.scrollLeft=a.start.x+a.end.x;if("function"===typeof b.onComplete)b.onComplete()};c.prototype._getEndCoordinateValue=function(a,b,c){if("number"===typeof a||l.test(a))return a>c&&(a=c),a-b;var e;e=a;e="string"===typeof e?k.test(e):!1;return e?(a=b-(b-~~a),b+a>c?c-b:0>b+a?-b:a):0};c.prototype.scrollTo=function(a,b){void 0===a&&(a=null);if(null===a||"undefined"===typeof a)return console.error("target param is required");
if("object"!==typeof a&&"string"!==typeof a)return console.error("target param should be a HTMLElement or and object formatted as: {x: Number, y: Number}");if("string"===typeof a){var c=this.scrollingBox.querySelector(a);return c instanceof HTMLElement?this.scrollToElement(c,b):console.error("target param should be a HTMLElement or and object formatted as: {x: Number, y: Number}")}return a instanceof HTMLElement?this.scrollToElement(a,b):this.scrollToPosition(a,b)};c.prototype.scrollToElement=function(a,
b){var c=this.start,e=this.getElementOffset(a);if(e)return this._animate({start:c,end:e},b)};c.prototype.scrollToPosition=function(a,b){var c=this.start,e=this.max,d=a.hasOwnProperty("x")?a.x:c.x,g=a.hasOwnProperty("y")?a.y:c.y,d=this._getEndCoordinateValue(d,c.x,e.x),g=this._getEndCoordinateValue(g,c.y,e.y);return this._animate({start:c,end:{x:d,y:g}},b)};c.prototype.scrollToTop=function(a){var b=this.start;return this._animate({start:b,end:{x:0,y:-b.y}},a)};c.prototype.scrollToBottom=function(a){var b=
this.start;return this._animate({start:b,end:{x:0,y:this.max.y-b.y}},a)};c.prototype.scrollToLeft=function(a){var b=this.start;return this._animate({start:b,end:{x:-b.x,y:0}},a)};c.prototype.scrollToRight=function(a){var b=this.start;return this._animate({start:b,end:{x:this.max.x-b.x,y:0}},a)};c.prototype.set=function(a,b){this.options[a]=b;return this};c.prototype.cancel=function(){this._RAF=cancelAnimationFrame(this._RAF);return this};c.prototype.getElementOffset=function(a){if(a!==d&&!this.scrollingBox.contains(a))return console.error("scrollingBox does not contains element"),
!1;var b=this.start,c=this.max,e=0,f=0,g=0,h=0;do f+=a.offsetLeft,e+=a.offsetTop,a=a.parentElement;while(a!==this.scrollingBox);g=f-b.x;h=e-b.y;g>c.x&&(g=c.x);h>c.y&&(h=c.y);return{x:g,y:h}};Object.defineProperties(c.prototype,f);c.VERSION="0.0.19";return c});